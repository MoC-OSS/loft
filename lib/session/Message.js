import{v4 as uuid}from"uuid";import{getTimestamp}from"../helpers";export let MessageType=function(MessageType){MessageType["INJECTION"]="injection";MessageType["EMBEDDING"]="embedding";return MessageType}({});export class Message{constructor(msg){const timestamp=getTimestamp();this.id=msg.id||uuid();this.author=msg.author||"user";this.content=msg.content;this.name=msg.name;this.tags=msg.tags||[];this.customProperties=msg.customProperties||{};this.isArchived=msg.isArchived||false;this.createdAt=msg.createdAt||timestamp;this.updatedAt=msg.updatedAt||timestamp}toJSON(){return{id:this.id,author:this.author,citationMetadata:this.citationMetadata,content:this.content,name:this.name,tags:this.tags,customProperties:this.customProperties,isArchived:this.isArchived,createdAt:this.createdAt,updatedAt:this.updatedAt}}formatToLLM(){if(this.isArchived===true)return undefined;const message={author:this.author,content:this.content,citationMetadata:this.citationMetadata};return JSON.parse(JSON.stringify(message))}}
//# sourceMappingURL=Message.js.map